<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="format-detection"  content="telephone=no"> 
    <meta  http-equiv="x-rim-auto-match" content="none">
    <title>判断手机是否安装微信</title>
</head>
<body>
<a href="javascript:testApp('weixin://')" class="dl-btn" id="download">打开微信</a><br/>
<a href="tel:13764567708">移动WEB页面JS一键拨打号码咨询功能</a><br/>
<a href="sms:13764567708">移动WEB页面JS一键发送短信咨询功能</a><br/>
<a href="wtai://wp//mc;13764567708">拨打10086 </a>  <a href="wtai://wp/ap;13764567708;">将10086存储至电话簿 </a><br/>
<a href="javascript:testApp('skype:+8613240020366?call')">呼叫skype</a>

<script>
if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {
   /* var loadDateTime = new Date();
    window.setTimeout(function () {
            var timeOutDateTime = new Date();
            if (timeOutDateTime - loadDateTime < 5000) {
                window.location = "skype:+8613240020366?call";
                alert(4)
            } else {
                alert(5)
                window.close();
            }
        },
        25);
    alert(6)
    window.location = "skype:// ";*/
    
    var state2 = null;
    try {
        alert(4)
        state2 = window.open("skype:+8613240020366?call", '_self');
    } catch (e) {
        alert(5)
    }
    if (state2) {
        alert(6)
        alert('bbbbbbbbbbbbbbbbbbbb')
        //window.close();
    } else {
        alert(7)
        alert('aaaaaaaaaaaaaaaaaaaa')
        //window.location = "skype:+8613240020366?call";
    }
} else if (navigator.userAgent.match(/android/i)) {
    var state = null;
    try {
        //alert(0)
        state = window.open("skype:+8613240020366?call", '_self');
    } catch (e) {
        //alert(1)
    }
    if (state) {
        //alert(2)
        window.close();
    } else {
        //alert(3)
        //alert('aaaaaaaaaaaaaaaaaaaa')
        //window.location = "skype:+8613240020366?call";
    }
}

</script>

</body>
</html>
